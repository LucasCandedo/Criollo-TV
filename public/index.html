<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta name="theme-color" content="#141414">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title>CriolloTV</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="/style.css">
  <!-- HLS.js para streams M3U8 -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest/dist/hls.min.js"></script>
</head>
<body>
  <!-- HEADER -->
  <header id="app-header">
    <div class="header-logo">
      <img src="/icons/criollo-logo.png" alt="CriolloTV" style="height: 40px; object-fit: contain;">
    </div>
    <nav class="header-nav">
      <button class="nav-btn active" data-cat="all">Inicio</button>
    </nav>
    <div class="header-right">
      <span class="live-badge">â— EN VIVO</span>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main id="app-main">
    <div id="channels-loading">
      <div class="spinner"></div>
      <p>Cargando canales...</p>
    </div>
    <div id="channel-rows"></div>
  </main>

  <!-- PLAYER OVERLAY -->
  <div id="player-overlay" class="hidden">
    <div id="player-header">
      <button id="player-back" class="focusable">â† Volver</button>
      <span id="player-title"></span>
      <span class="live-badge">â— EN VIVO</span>
    </div>
    <div id="player-container">
      <div id="player-loading">
        <div class="spinner"></div>
        <p>Cargando transmisiÃ³n...</p>
      </div>
      <video
        id="hls-player"
        controls
        autoplay
        playsinline
        style="width:100%;height:100%;background:#000;"
      ></video>
    </div>
    <div id="player-info-bar">
      <div id="player-channel-name"></div>
      <div id="player-channel-desc"></div>
    </div>
  </div>

  <!-- SEARCH OVERLAY -->
  <div id="search-overlay" class="hidden">
    <div id="search-box">
      <input type="text" id="search-input" placeholder="Buscar canal..." autocomplete="off">
      <button id="search-close">âœ•</button>
    </div>
    <div id="search-results"></div>
  </div>

  <!-- ADMIN OVERLAY -->
  <div id="admin-overlay" class="hidden">
    <div id="admin-panel">
      <h2>âš™ï¸ Panel de AdministraciÃ³n</h2>
      <div class="admin-field">
        <label>ContraseÃ±a</label>
        <input type="password" id="admin-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
      </div>
      <div class="admin-field">
        <label>URL del M3U</label>
        <input type="text" id="admin-m3u-url" placeholder="http://...">
      </div>
      <div class="admin-actions">
        <button class="admin-btn admin-btn-primary" id="admin-save">Guardar M3U</button>
        <button class="admin-btn admin-btn-primary" id="admin-refresh" style="flex:0.6">ğŸ”„ Refrescar</button>
        <button class="admin-btn admin-btn-secondary" id="admin-close">Cerrar</button>
      </div>
      <div id="admin-msg"></div>
    </div>
  </div>

  <!-- BOTTOM NAV -->
  <div id="bottom-nav">
    <button class="bottom-btn focusable" id="btn-home">ğŸ  Inicio</button>
    <button class="bottom-btn focusable" id="btn-search">ğŸ” Buscar</button>
    <button class="bottom-btn focusable" id="btn-favorites">â­ Favoritos</button>
  </div>

  <!-- Admin trigger -->
  <button id="btn-admin" title="Admin">âš™ï¸</button>

  <script src="/app.js"></script>
</body>
</html>
