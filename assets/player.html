<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CriolloTV</title>

<style>
html,body{
margin:0;
padding:0;
background:black;
height:100%;
overflow:hidden;
font-family:Arial;
}

iframe{
position:absolute;
top:0;
left:0;
width:100%;
height:100%;
border:0;
}

.bar{
position:absolute;
top:0;
left:0;
right:0;
height:70px;
background:rgba(0,0,0,0.6);
display:flex;
align-items:center;
padding:0 20px;
color:white;
z-index:10;
}

.back{
font-size:28px;
margin-right:20px;
cursor:pointer;
}

.title{
font-size:22px;
font-weight:bold;
}
</style>
</head>

<body>

<div class="bar">
<div class="back" id="back">â¬…</div>
<div class="title" id="title">Cargando...</div>
</div>

<iframe id="video" allow="autoplay; encrypted-media" allowfullscreen></iframe>

<script>
const params = new URLSearchParams(location.search);

const v = params.get("v");
const name = params.get("name") || "Canal";
const back = params.get("back") || "/";

document.getElementById("title").innerText = decodeURIComponent(name);

const iframe = document.getElementById("video");

if (v) {
iframe.src =
"https://www.youtube.com/embed/" +
v +
"?autoplay=1&mute=1&playsinline=1&rel=0";
}

document.getElementById("back").onclick = () => {
location.href = back;
};

/* Android TV remote */
window.addEventListener("keydown", e=>{
if(e.keyCode === 461 || e.key === "Escape"){
location.href = back;
}
});
</script>

</body>
</html>